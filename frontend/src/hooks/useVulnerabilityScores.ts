import { useQuery, keepPreviousData } from '@tanstack/react-query';
import { getVulnerabilityScores } from '../api/client';

interface VulnerabilityFilters {
  county?: string[];
  party?: string[];
  competitiveness?: string[];
  raceType?: string[];
}

export const useVulnerabilityScores = (limit: number = 20, filters?: VulnerabilityFilters) => {
  return useQuery({
    queryKey: ['vulnerability-scores', limit, filters],
    queryFn: async () => {
      return getVulnerabilityScores(limit, filters);
    },
    placeholderData: keepPreviousData,
  });
};
